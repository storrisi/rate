(this["webpackJsonptomorrowdevs-trial"]=this["webpackJsonptomorrowdevs-trial"]||[]).push([[0],{145:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(9),l=t.n(o),i=t(82),c=t(46),s=t(38),m=(t(98),t(28)),d=t(73),u=t(57),p=t(31),E=t.n(p),b=t(83),g=t(8),h=t(47),v=t(74),f=t.n(v),w=t(191),O=t(190),j=t(189),y=t(196),_=t(197),I=t(193),k=t(186),x=t(198),N=t(188),S=t(75),L=t.n(S),P=t(192),T=t(56),R=t(184),D=t(21),A=t(195),C=t(194),M=t(50),B=t.n(M),W=t(59),z=t.n(W),F=Object(R.a)((function(e){return{root:{display:"flex"},drawer:Object(h.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(h.a)({backgroundColor:"#1e298b"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(h.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},nested:{paddingLeft:e.spacing(4)},title:{backgroundColor:"#1e298b",color:"white"},appTitle:{flexGrow:1},logo:Object(h.a)({height:10},e.breakpoints.up("md"),{height:20})}}));var G=function(e){var a=e.window,t=F(),o=Object(D.a)(),l=r.a.useState(!1),i=Object(m.a)(l,2),c=i[0],s=i[1],d=r.a.useState(null),p=Object(m.a)(d,2),b=p[0],g=p[1],h=Object(u.a)(E.a.database().ref("sections")),v=Object(m.a)(h,3),S=v[0],R=v[1],M=v[2],W=function(){s(!c)};Object(n.useEffect)((function(){!R&&S.length>0&&g(S[0].videos[0])}),[R]);var G=r.a.createElement("div",null,r.a.createElement("div",{className:t.toolbar}),!R&&S&&r.a.createElement(k.a,null,S.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{className:t.title,key:e.title},r.a.createElement(N.a,{primary:e.title})),r.a.createElement(k.a,{component:"div",disablePadding:!0},e.videos.map((function(e){return r.a.createElement(x.a,{button:!0,className:t.nested,onClick:function(){return function(e){s(!1),g(e)}(e)},key:e.title},r.a.createElement(N.a,{primary:e.title}))}))),r.a.createElement(j.a,null))})))),H=void 0!==a?function(){return a().document.body}:void 0;return r.a.createElement("div",{className:t.root},r.a.createElement(O.a,null),r.a.createElement(w.a,{position:"fixed",className:t.appBar},r.a.createElement(P.a,null,r.a.createElement(I.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:W,className:t.menuButton},r.a.createElement(L.a,null)),r.a.createElement("div",{className:t.appTitle},r.a.createElement("img",{src:B.a,className:t.logo})),r.a.createElement("div",null,r.a.createElement(C.a,{variant:"extended",color:"primary","aria-label":"add"},r.a.createElement(T.a,{variant:"h4",style:{marginRight:5}},"-",e.daysToTrialEnd),"giorni")))),r.a.createElement("nav",{className:t.drawer,"aria-label":"mailbox folders"},r.a.createElement(_.a,{smUp:!0,implementation:"css"},r.a.createElement(y.a,{container:H,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:c,onClose:W,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},G)),r.a.createElement(_.a,{xsDown:!0,implementation:"css"},r.a.createElement(y.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},G))),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),M&&r.a.createElement("h1",null,"Error: ",M),R&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},r.a.createElement(A.a,null)),b&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,b.title),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:b.description}}),r.a.createElement("div",{className:z.a.PlayerWrapper},r.a.createElement(f.a,{className:z.a.ReactPlayer,url:"https://home.wistia.com/medias/".concat(b.videoId),width:"100%",height:"100%"})))))},H=t(76),U=t.n(H),q=E.a.initializeApp({apiKey:"AIzaSyDw9EorAg5lzekw8b4UlR-VhRR4PAEtErw",authDomain:"tomorrowdevs-trial.firebaseapp.com",databaseURL:"https://tomorrowdevs-trial.firebaseio.com",projectId:"tomorrowdevs-trial",storageBucket:"tomorrowdevs-trial.appspot.com",messagingSenderId:"202090373061",appId:":202090373061:web:639b268d7ac88cd894f5ac"}),J=(q.firestore(),t(60)),K=t.n(J),V={signInFlow:"redirect",signInOptions:[{provider:E.a.auth.EmailAuthProvider.PROVIDER_ID,signInMethod:E.a.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD,forceSameDevice:!1,requireDisplayName:!0}],credentialHelper:"none",callbacks:{signInSuccessWithAuthResult:function(){return!1}}},X=function(){return r.a.createElement("div",{className:K.a.Login},r.a.createElement("img",{src:B.a,className:K.a.Logo}),r.a.createElement(U.a,{uiConfig:V,firebaseAuth:q.auth()}))},$=function(e){var a=e.isSignedIn,t=e.isExpired,n=e.daysToTrialEnd,o=e.userEmail;return console.log(a),r.a.createElement(b.a,null,r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/"},a&&!t?r.a.createElement(g.a,{to:"/contents"}):r.a.createElement(X,null)),r.a.createElement(g.b,{exact:!0,path:"/contents"},a&&!t?r.a.createElement(G,{daysToTrialEnd:n,userEmail:o}):r.a.createElement(g.a,{to:"/"}))))};var Q=function(){var e=Object(n.useState)(!1),a=Object(m.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(m.a)(l,2),c=i[0],s=i[1],u=Object(n.useState)(0),p=Object(m.a)(u,2),b=p[0],g=p[1],h=Object(n.useState)(null),v=Object(m.a)(h,2),f=v[0],w=v[1],O=Object(d.a)(E.a.auth()),j=Object(m.a)(O,2),y=j[0],_=j[1];return Object(n.useEffect)((function(){if(!_&&y){o(!0),w(y.email);var e=Math.abs(new Date-new Date(y.metadata.creationTime)),a=Math.ceil(e/864e5);s(a>14),g(14-a)}}),[_]),console.log(_,y,t,c),r.a.createElement($,{isSignedIn:t,isExpired:c,daysToTrialEnd:b,userEmail:f})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=t(78),Z=Object(Y.a)(),ee=t(29),ae=t(79),te=t(80),ne=t(71),re=t(81);var oe,le=(oe=Z,Object(ee.combineReducers)({router:Object(s.b)(oe)})),ie=Object(re.composeWithDevTools)({name:"BudgetManager"}),ce=Object(te.createLogger)({predicate:function(e,a){return!0}});var se,me,de=Object(ee.createStore)(Object(s.b)(Z)(le),se,ie(Object(ee.applyMiddleware)(ae.a,ce,Object(ne.a)(Z))));me=Q,l.a.render(r.a.createElement(i.AppContainer,null,r.a.createElement(c.a,{store:de,history:Z},r.a.createElement(s.a,{history:Z},r.a.createElement(me,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},50:function(e,a,t){e.exports=t.p+"static/media/logo.87a70298.png"},59:function(e,a,t){e.exports={PlayerWrapper:"Contents_PlayerWrapper__1nF_c",ReactPlayer:"Contents_ReactPlayer__2zaX_"}},60:function(e,a,t){e.exports={Login:"Login_Login__28ymq",Logo:"Login_Logo__3vmGw"}},89:function(e,a,t){e.exports=t(145)},98:function(e,a,t){}},[[89,1,2]]]);
//# sourceMappingURL=main.d50e136b.chunk.js.map